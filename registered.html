<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>18天台灣生啤酒搶鮮開趴趣！</title>
  <meta name="description" content="即日起至2020/10/25(日)活動期間內購買貼有活動貼紙之【罐裝 18天 台灣生啤酒330ml】，撕開罐身貼紙掃描QR code並完成登錄集點，即有機會獲 得多項18天專屬好禮，等您帶回家！">
  <meta name="keywords" content="台灣啤酒、台啤、18天生、18天、18天台灣生啤酒、搶鮮、開趴、集 點、抽獎、兌換、好野物、野營好禮、集點送好禮、啤酒泡泡機">
  <meta property="og:title" content="18天台灣生啤酒搶鮮開趴趣！" />
  <meta property="og:description" content="即日起至2020/10/25(日)活動期間內購買貼有活動貼紙之【罐裝 18天 台灣生啤酒330ml】，撕開罐身貼紙掃描QR code並完成登錄集點，即有機會獲 得多項18天專屬好禮，等您帶回家！" />
  <!-- CSS only -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <!-- JS, Popper.js, and jQuery -->
  <script src="js/jquery-3.5.1.min.js"></script>
  
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/index.js"></script>
  <script async="async" src="js/GA.js"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
      function gtag() {
          dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'UA-142314589-6');
  </script>
</head>
<body>
  <div class="axa18Bg_2">
    <div class="myNavbar">
      <div class="menu_container">
        <div class="logo">
          <a href="https://www.twbeer.com.tw/ " target="_blank">
            <img src="images/TBlogo.png" alt="">
          </a>
        </div>
        <div class="icon">
          <a href="https://www.instagram.com/taiwan.beer/" target="_blank">
            <img src="images/ig.png" alt="">
          </a>
          <a href="https://www.facebook.com/beer.taiwan" target="_blank">
            <img src="images/fb.png" alt="">
          </a>
          <a class="menu-m">
            <div class="hamBar">
              <div class="bar bar1 transition">
                <img class="" src="./images/bar.png" alt="">
              </div>
              <div class="bar bar2 transition">
                <img class="" src="./images/bar.png" alt="">
              </div>
              <div class="bar bar3 transition">
                <img class="" src="./images/bar.png" alt="">
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
    <div class="menu-block-mb">
      <div class="menuBg"></div>
      <ul class="menu">
        <li><a href="index.html" class="menu-1">
          <img class="menu_dic" src="./images/menu_type.png" alt=""> 首頁
        </a></li>
        <li><a href="prize.html" class="menu-2">
          <img class="menu_dic" src="./images/menu_type.png" alt=""> 我要抽獎
        </a></li>
        <li><a href="exchangePrize.html" class="menu-3">
          <img class="menu_dic" src="./images/menu_type.png" alt=""> 我要兌換
        </a></li>
        <li><a href="login.html" class="menu-4">
          <img class="menu_dic" src="./images/menu_type.png" alt=""> 我的帳號
        </a></li>
        <li><a href="exchange.html" class="menu-5">
          <img class="menu_dic" src="./images/menu_type.png" alt=""> 集點兌獎狀況
        </a></li>
        <li><a href="lottery.html" class="menu-6">
          <img class="menu_dic" src="./images/menu_type.png" alt=""> 抽獎得獎名單
        </a></li>
      </ul>
    </div>
    <div class="overContain3">
      <div class="over18_block">
        <div class="main_title">
          <div class="form_title2">
						<img src="./images/registered_title.png" alt="">
          </div>
        </div>
        <div class="formLogin">
          <div class="input-group mb-3">
            <div class="iptName">真實姓名：</div>
            <input id="myName" type="text" name="name" class="formIpt" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
          </div>
          <div class="input-group mb-3">
            <div class="iptName">性別：</div>
            <div class="flex relate mr30">
              <label class="iptName" for="male">男</label>
              <input class="ipt_check reCheck_1" name="gender" type="radio" id="male" value="男">
              <img id="reCheck01" class="checkmark" src="./images/checked.png" alt="">
            </div>
            <div class="flex relate mr30">
              <label class="iptName" for="female">女</label>
              <input class="ipt_check reCheck_2" name="gender" type="radio" id="female" value="女">
              <img id="reCheck02" class="checkmark" src="./images/checked.png" alt="">
						</div>
					</div>
					<div class="input-group mb-3">
						<div class="iptName">生日：</div>
            <br>
            <div class="input-group">
              <div class="flex" style="width: 100%;">
                <div class="selWidth">
                  <select class="formSelect" id="myYear" onchange="changeYear();"></select>
                </div>
                <div class="iptName mgL01">年</div>
                <div class="selWidth2">
                  <select class="formSelect" id="myMonth" onchange="changeDay()"></select>
                </div>
                <div class="iptName mgL01">月</div>
                <div class="selWidth2">
                  <select class="formSelect" id="myDate"></select>
                </div>
                <div class="iptName mgL01">日</div>
              </div>
            </div>
          </div>
          <div class="input-group mb-3">
            <div class="iptName">手機號碼：</div>
            <input id="myTel" type="tel" maxlength="10" name="cellphone_number" class="formIpt" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
          </div>
					<div class="input-group mb-3">
            <div class="iptName">電子信箱：</div>
            <input id="myEmail" type="email" name="name" class="formIpt" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
					</div>
					<div class="input-group mb-3">
            <div class="iptName">獎品寄送住址：</div>
            <input id="myPlace" type="text" name="place" class="formIpt" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
					</div>
					<div class="input-group mb-3">
						<div class="form_remake" style="display: flex;">
              <div class="mRemake">*</div>
              <div class="sRemake">小提醒：以上資料需與中獎/兌獎資料相同才符合領獎資格，再檢查看看資訊是否都正確唷！</div>
            </div>
					</div>
					<div class="input-group mb-3">
            <div class="iptName">帳號：</div>
            <input id="myAccount" type="text" value="自動設定為手機號碼" maxlength="10" name="account_number" class="formIpt" placeholder="" aria-label="Username" aria-describedby="basic-addon1" disabled>
					</div>
					<div class="input-group">
            <div class="iptName">自訂密碼</div>
            <input id="myPassword" type="password" maxlength="10" name="password" class="formIpt" placeholder="" aria-label="Username" aria-describedby="basic-addon1">
          </div>
          <div class="input-group mb-3">
						<div class="form_remake">
              *&nbsp;&nbsp;密碼長度限定為6～10位數，<br>
              &nbsp;&nbsp;&nbsp;&nbsp;可以混合使用英文字母及數字
            </div>
					</div>
					<div class="input-group mb-3">
						<div class="flex ">
              <div class="makeCheck relate mr20">
                <input class="ipt_check2 reCheck_3" type="checkbox" id="attention">
                <img id="reCheck03" class="checkmark2" src="./images/checked.png" alt="">
              </div>
              <div class="makeLabel">
							  <label for="attention">我已詳細閱讀注意事項，並且同意遵守主
								辦單位蒐集、處理及個人資料之告知事項<a id="takeProt">履行個人資料保護法義務告知書</a>。</label>                
              </div>
						</div>
					</div>
					<div class="input-group mb-3">
						<div class="flex relate">
              <div class="makeCheck relate mr20">
                <input class="ipt_check2 reCheck_4" type="checkbox" id="registered">
                <img id="reCheck04" class="checkmark2" src="./images/checked.png" alt="">
              </div>
              <div class="makeLabel">
                <label for="registered">我確認填寫之註冊資料皆為正確，若有不
                  同，主辦單位有權取消抽獎及兌獎資格，
                  並恕不另行通知。</label>
              </div>
						</div>

					</div>
          <div id="myRegistered" class="input-group mb-3" style="cursor: pointer;">
            <div class="allBtn">
              <img src="./images/button/loginBtn.png" alt="">
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer></footer>
  </div>
  <div id="protag" class="prize_block" style="display: none">
    <div class="makeClose closeBlock"></div>
		<div class="protag_modal">
      <p>【履行個人資料保護法義務告知書】</p>
      <div class="closeBtn closeBlock">
        <img src="./images/close.png" alt="">
      </div>
      <div class="protag_content">
        主辦單位及合作廠商茲依據個人資料保護法規定，向您告知下列事項：<br>
        <ol class="coll_list6">
          <li>個人資料範圍：自活動網站／Facebook蒐集及參加者個人提供之參加者個人資料，包括(Instagram、
          twitter或Facebook)帳號、姓名、照片、行動電話號
          碼、電子郵件、郵寄地址及身分證正反面資料(僅中獎
          者需提供)等。</li>
          <li>蒐集之目的：執行【2020年18天台灣生啤酒_搶鮮撒野瘋趴趣集點活動】暨相關業務及所銷售商品之消
          費者行銷活動(下稱「本活動」)。本活動之參加、
          中獎聯繫及稅務單據寄送等與本活動執行相關事宜。</li>
          <li>利用之期間：本活動期間。主辦單位及合作廠商於本活動結束時將參加者之個人資料全數銷毀，不另作
          他用。但取得提供個資者之書面同意者，不在此限。</li>
          <li>利用之地區：台、澎、金、馬。</li>
          <li>利用之對象：主辦單位及其關係企業，或與主辦單
          位及其關係企業因業務需要訂有契約關係或業務往來
          之機構。</li>
          <li>利用之方式：符合個人資料保護相關法令以自動化
          機器或其他非自動化之利用方式之蒐集、處理、利用。</li>
          <li>
            參加者行使權利之方式：<br>
            於本活動期間，參加者就主辦單位保有之個人資料，得向主辦單位要求行使下列權利：<br>
            (1)查詢、請求閱覽或請求製給複製本，而主辦單位依法得酌收必要成本費用。<br>
            (2)請求補充或更正，惟參加者應為適當之釋明。<br>
            (3)請求停止蒐集、處理、利用或國際傳輸及請求刪除，惟依法主辦單位因執行業務所必須者，得不依參加者請求為之。<br>
          </li>
          <li>參加者得自由選擇是否提供個人資料，惟如拒絕提供將無法參加本活動。</li>
        </ol>
      </div>
      </div>
		</div>
  </div>
</body>
<script>	
  $('#takeProt').on('click', function(){
    $('.prize_block').show();
  })
  $('.closeBlock').on('click', function(){
    $('.prize_block').hide();
  });
	// select option
  const monthOptions = [
    { value: '01', label: '01', day: 31},
    { value: '02', label: '02', day: 28},
    { value: '03', label: '03', day: 31},
    { value: '04', label: '04', day: 30},
    { value: '05', label: '05', day: 31},
    { value: '06', label: '06', day: 30},
    { value: '07', label: '07', day: 31},
    { value: '08', label: '08', day: 31},
    { value: '09', label: '09', day: 30},
    { value: '10', label: '10', day: 31},
    { value: '11', label: '11', day: 30},
    { value: '12', label: '12', day: 31},
  ]; 
  const day31 = [
    { value: '01', label: '01'},
    { value: '02', label: '02'},
    { value: '03', label: '03'},
    { value: '04', label: '04'},
    { value: '05', label: '05'},
    { value: '06', label: '06'},
    { value: '07', label: '07'},
    { value: '08', label: '08'},
    { value: '09', label: '09'},
    { value: '10', label: '10'},
    { value: '11', label: '11'},
    { value: '12', label: '12'},
    { value: '13', label: '13'},
    { value: '14', label: '14'},
    { value: '15', label: '15'},
    { value: '16', label: '16'},
    { value: '17', label: '17'},
    { value: '18', label: '18'},
    { value: '19', label: '19'},
    { value: '20', label: '20'},
    { value: '21', label: '21'},
    { value: '22', label: '22'},
    { value: '23', label: '23'},
    { value: '24', label: '24'},
    { value: '25', label: '25'},
    { value: '26', label: '26'},
    { value: '27', label: '27'},
    { value: '28', label: '28'},
    { value: '29', label: '29'},
    { value: '30', label: '30'},
    { value: '31', label: '31'}
  ]
  // 年份修改
  function changeYear() {
    $("#myMonth").val('01'); // 月份 = 01
    $("#myDate").html('');
    for(let x=0;x<31;x++){
		  $("#myDate").append(`<option value=${day31[x].value}>${day31[x].label}</option>`);
    }
    $("#myDate").val('01');  // 日期 = 01
  }
  // 月份修正時，就要更日期天數
  function changeDay(){
    let thisMonth = $("#myMonth").val();
    let thisDay = 31;
    
    // 先找到正確的當月天數
    for(let x=0;x<monthOptions.length;x++){
      if (monthOptions[x].value === thisMonth){
        thisDay = monthOptions[x].day;
      }
	  } 
    $("#myDate").val('01');  // 日期 = 01
    // 2月份還得判斷平年、閏年
    if (thisMonth === '02'){
      let num = parseInt($('#myYear').val()); // 年份 整數
      // alert('年份 ' + num);
      // alert((num%4===0&&num%100!==0||num%400===0)?(num+"年是閏年"):(num+"年不是閏年"));
      if ((num%4===0&&num%100!==0||num%400===0)){
        thisDay +=1;  // 這是閏年 天數 + 1
      }
    }
    // alert('change month ' + thisMonth + " day " + thisDay);
    $("#myDate").html('');
    for(let x=0;x<thisDay;x++){
		  $("#myDate").append(`<option value=${day31[x].value}>${day31[x].label}</option>`);
    } 
  }
	// 年份寫入
	const yeraStart = '1920';
	const yearEnd = '2002';
	for(let x=yearEnd;x>yeraStart-1;x--){
		$("#myYear").append(`<option value=${x}>${x}</option>`);
	} 
	for(let x=0;x<monthOptions.length;x++){
		$("#myMonth").append(`<option value=${monthOptions[x].value}>${monthOptions[x].label}</option>`);
	} 
	for(let x=0;x<day31.length;x++){
		$("#myDate").append(`<option value=${day31[x].value}>${day31[x].label}</option>`);
  } 
  $('#male').on('click', function(){
    let check = $(this).is(':checked');
    // console.log('male', check);
    if(check === true){
      $('#reCheck01').attr('src', './images/isChecked.png');
      $('#reCheck02').attr('src', './images/checked.png');
    }
  })
  $('#female').on('click', function(){
    let check = $(this).is(':checked');
    // console.log('female', check);
    if(check === true){
      $('#reCheck02').attr('src', './images/isChecked.png');
      $('#reCheck01').attr('src', './images/checked.png');
    }
  })
  $('#attention').on('click', function(){
    let check = $(this).is(':checked');
    // console.log('check', check);
    if(check === true){
      $('#reCheck03').attr('src', './images/isChecked.png');
    } else {
      $('#reCheck03').attr('src', './images/checked.png');
    }
  })
  $('#registered').on('click', function(){
    let check = $(this).is(':checked');
    // console.log('check', check);
    if(check === true){
      $('#reCheck04').attr('src', './images/isChecked.png');
    } else {
      $('#reCheck04').attr('src', './images/checked.png');
    }
  })
  // let reTwphone = /^[09]{2}[0-9]{8}$/;
  let reTwphone = /^(09)[0-9]{8}$/;
  let emailRule = /^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/;
  let rePassword = /^[a-zA-Z0-9]*$/;
  $('#myRegistered').on('click', function(){
    var myName = $('#myName').val();
    var myEmail = $('#myEmail').val();
    var myTel = $('#myTel').val();
    var myPlace = $('#myPlace').val();
    var myPassword = $('#myPassword').val();
    var genderCheck = $(':radio:checked');
    // 獲取獲取性別
    var gender = $('input[name=gender]:checked').val();
    var attention = document.getElementById('attention').checked
    var registered = document.getElementById('registered').checked
    // 計算年齡
    var now = new Date();
    var nowYear = now.getFullYear();
    var nowMonth = now.getMonth()+1;
    var nowDay = now.getDate();
    var myBirthYear = $('#myYear').val();
    var myBirthMonth = parseInt($('#myMonth').val());
    var myBirthDate = parseInt($('#myDate').val());
    var yearDiff = nowYear - myBirthYear;
    // console.log('myBirthMonth', myBirthMonth);
    // console.log( 'nowMonth', nowMonth);
    // 資料驗證
    if(myName.trim() === ''){
      alert('請輸入您的真實姓名');
      return false;
    }
    if(genderCheck.length === 0){
      alert('請勾選性別');
      return false;
    }
    if(yearDiff < 18){
      alert('須年滿18歲才能參加唷！');
      return false ;
    }
    if(yearDiff === 18 && nowMonth < myBirthMonth){
      alert('須年滿18歲才能參加唷！');
      return false ;
    }
    if(yearDiff === 18 && nowMonth === myBirthMonth && nowDay < myBirthDate){
      alert('須年滿18歲才能參加唷！');
      return false ;
    }
    if(myTel.trim() === ''){
      alert('請輸入您的手機號碼');
      return false;
    }
    if(!reTwphone.test(myTel)){
      alert('您的手機號碼格式有誤');
      return false;
    }
    if(myEmail.trim() === ''){
      alert('請輸入您的email');
      return false;
    }
    if(myEmail.search(emailRule)){
      alert('您的email格式有誤');
      return false;
    }
    if(myPlace.trim() === ''){
      alert('請輸入您的地址');
      return false;
    }
    if(myPassword.trim() === ''){
      alert('請設定密碼');
      return false;
    }
    if(myPassword.length < 6 || !rePassword.test(myPassword)){
      alert('請設定6～10位密碼，可英數混合');
      return false;
    }
    if(attention === false){
      alert('請勾選我已閱讀詳細資料');
      return false;
    }
    if(registered === false){
      alert('請勾選確認註冊資料皆為正確');
      return false;
    }
    alert('註冊完成')
    window.location = 'home.html';
  });
</script>
</html>